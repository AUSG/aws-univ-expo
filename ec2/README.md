## ìˆ™ëª…ì—¬ëŒ€ì™€ í•¨ê»˜í•˜ëŠ” AWS Univ. Expo í•¸ì¦ˆì˜¨

ğŸ˜ **AUSG** í•¸ì¦ˆì˜¨ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.

í•¸ì¦ˆì˜¨ì—ì„œëŠ” EC2ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›Œë“œí”„ë ˆìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¤ê³ , RDSë¥¼ ì—°ë™í•˜ì—¬ ì§ì ‘ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³¼ì •ê³¼ ë§ˆì§€ë§‰ìœ¼ë¡œ S3ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì  íŒŒì¼ì„ ì—…ë¡œë“œí•˜ëŠ” ê³¼ì •ì„ ì‹¤ìŠµí•©ë‹ˆë‹¤.

ì‹¤ìŠµì— ì´ìš©ë˜ëŠ” ì„œë¹„ìŠ¤ëŠ” í”„ë¦¬í‹°ì–´ ë‚´ì—ì„œ ì§„í–‰ë˜ë©°, ë§ˆì§€ë§‰ S3 ë¶€ìŠ¤ì—ì„œ ìƒì„±í•œ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì‚­ì œí•˜ëŠ” ì‹¤ìŠµì´ ì§„í–‰ë  ì˜ˆì •ì…ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ ê³¼ê¸ˆì„ í”¼í•˜ê¸° ìœ„í•´ S3 ë¶€ìŠ¤ë¥¼ ë°˜ë“œì‹œ ë°©ë¬¸í•´ì£¼ì„¸ìš”!

## EC2ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›Œë“œí”„ë ˆìŠ¤ ë„ì›Œë³´ê¸°

ì´ ê°€ì´ë“œëŠ” Amazon EC2 ê°€ìƒ ë¨¸ì‹ (ì¸ìŠ¤í„´ìŠ¤)ì— ì„¤ì¹˜ëœ WordPressë¥¼ ì´ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ë¥¼ ê°€ë™í•˜ê³  ìš´ì˜í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.
ëª¨ë“  ì‘ì—…ì€ í”„ë¦¬í‹°ì–´ì— í•´ë‹¹í•©ë‹ˆë‹¤.

**1. AWS Management Consoleì— ë¡œê·¸ì¸ í›„ ì„œë¹„ìŠ¤ - ì»´í“¨íŒ… ì•„ë˜ì—ì„œ EC2ë¥¼ ì°¾ì•„ ëŒ€ì‹œë³´ë“œë¥¼ ì—½ë‹ˆë‹¤.**

![ì½˜ì†” ë¡œê·¸ì¸](./img/console_login.png)
![ì»´í“¨íŒ… - ì„œë¹„ìŠ¤](./img/computing_service.png)

**2. Amazon EC2 ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘**

- EC2 ëŒ€ì‹œë³´ë“œ ì™¼ìª½ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í´ë¦­í•˜ê³  ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘ì„ ì„ íƒí•˜ì—¬ ê°€ìƒ ë¨¸ì‹ ì„ ìƒì„±í•©ë‹ˆë‹¤.

![ì¸ìŠ¤í„´ìŠ¤ ìƒì„±](./img/launch_instance.png)

**3. ì¸ìŠ¤í„´ìŠ¤ êµ¬ì„±**

- AWS Marketplaceì— WordPressê°€ ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” AMI(Amazon Machine Image)ì¸ "WordPress Certified by Bitnami and Automattic"ë¥¼ ì„ íƒí•˜ê³  Continueë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

![ì›Œë“œí”„ë ˆìŠ¤ ì´ë¯¸ì§€](./img/ami_wordpress.png)

- ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì€ t2.microë¥¼ ì„ íƒí•©ë‹ˆë‹¤. t2.microëŠ” 1ê°œì˜ vCPUsì™€ 1GiB ë©”ëª¨ë¦¬ë¥¼ ì œê³µí•˜ë©°, í”„ë¦¬í‹°ì–´ì—ì„œëŠ” ì´ 750ì‹œê°„ì„ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. t2.micro ì´ì™¸ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ê³¼ê¸ˆì´ ë˜ë‹ˆ ì£¼ì˜í•´ì£¼ì„¸ìš”.

- ì¸ìŠ¤í„´ìŠ¤ ì„¸ë¶€ ì •ë³´ êµ¬ì„±ì€ ê¸°ë³¸ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

- ìŠ¤í† ë¦¬ì§€ë„ ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

- íƒœê·¸ ì¶”ê°€ë¥¼ ì„ íƒí•˜ê³  Key : Valueì˜ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì¤ë‹ˆë‹¤. íƒœê·¸ëŠ” AWS ìì›ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì‚¬ìš©ì ì •ì˜ Key, Value ìŒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Name: EC2-SookMyung-WordPress, Owner: KSYê°€ íƒœê·¸ë¡œ ë“±ë¡ë˜ì–´ ìˆë‹¤ë©´ Ownerê°€ KSYì¸ EC2 ìì›ì„ ê²€ìƒ‰í•˜ëŠ” ì¿¼ë¦¬ ë“±ì„ í†µí•´ ì‰½ê²Œ ìì›ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![íƒœê·¸ ì¶”ê°€](./img/add_tag.png)

- ë³´ì•ˆ ê·¸ë£¹ ì„¤ì •ì€ ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

- ê²€í†  ë° ì‹œì‘ì„ ì„ íƒí•˜ê³  ì§€ê¸ˆê¹Œì§€ ì„¤ì •í•œ êµ¬ì„±ì„ í™•ì•ˆí™ë‹ˆë‹¤. ì´ìƒì´ ì—†ë‹¤ë©´ ì‹œì‘í•˜ê¸°ë¥¼ í´ë¦­í•´ì£¼ì„¸ìš”.

- EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì§ì ‘ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ í‚¤ í˜ì–´ê°€ í•„ìš”í•©ë‹ˆë‹¤. í‚¤ í˜ì–´ë¥¼ ìƒì„±í•˜ê³  ë‹¤ìš´ë¡œë“œ í•´ì£¼ì„¸ìš”. í‚¤ í˜ì–´ëŠ” ë‚˜ì¤‘ì— ë‹¤ì‹œ ë‹¤ìš´ë°›ì„ ìˆ˜ ì—†ìœ¼ë©°, ë¶„ì‹¤ì‹œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì— ë‹¤ì‹œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê¸°ì¡´ í‚¤ í˜ì–´ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šê³  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  > AWSì—ì„œëŠ” í‚¤ í˜ì–´ë¥¼ .ssh í•˜ìœ„ ë””ë ‰í† ë¦¬ì— ì €ì¥í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.

  <img src="./img/ec2-keypair.png" alt="í‚¤ í˜ì–´ ì„¤ì •" width="650px" height="400px" />

**4. WordPress ì ‘ì†**

- Instance Stateê°€ Runningìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤ë©´ Public DNS(IPv4)ë¥¼ í™•ì¸í•˜ê³  ì ‘ì†í•©ë‹ˆë‹¤.

![ì›Œë“œí”„ë ˆìŠ¤ ì ‘ì†](./img/ec2-publicip.png)

**5. SSHë¥¼ ì‚¬ìš©í•˜ì—¬ EC2ì— ì ‘ì†í•˜ê¸°**

- WordPress ê´€ë¦¬ í˜ì´ì§€ì— ë¡œê·¸ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ì‚¬ìš©ìë¥¼ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì´ˆê¸°í™”ëœ ë¹„ë°€ë²ˆí˜¸ëŠ” EC2 ëŒ€ì‹œë³´ë“œì˜ ì‹œìŠ¤í…œ ë¡œê·¸ë¥¼ í†µí•´ì„œë„ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ RDS ë¶€ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê²Œ ë  SSH(Secure Shell)ë¥¼ í†µí•´ EC2ì— ì ‘ì†í•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. ë³¸ì¸ì˜ í™˜ê²½ì— ë§ëŠ” ë°©ë²•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.

- Windows

  - Windowsì—ì„œ SSHë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ Putty ë˜ëŠ” OpenSSHì´ ì„¤ì¹˜ëœ PowerShell, Git Bash ë“±ì´ í•„ìš”í•©ë‹ˆë‹¤. í•´ë‹¹ ì‹¤ìŠµì—ì„œëŠ” Windowsì—ì„œ Linux ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Git Bashë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
  - https://gitforwindows.orgì—ì„œ Gitì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. ì„¤ì¹˜ëŠ” Default Optionìœ¼ë¡œ ê³„ì† Next í•œ í›„ ë§ˆì§€ë§‰ì— Launch Git Bashë¥¼ ì²´í¬í•˜ì‹œë©´ ìë™ìœ¼ë¡œ Git Bashê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

  ![Git Bash](./img/git-1.png)
  ![Git Bash](./img/git-2.png)

  - Git Bashê°€ ì‹¤í–‰ëë‹¤ë©´ í‚¤ í˜ì–´ê°€ ì €ì¥ëœ í´ë”ë¡œ ì´ë™í•œ í›„ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
  > Launch Git Bashë¥¼ ì²´í¬í•˜ì§€ ì•Šì•˜ë”ë¼ë„ ì‹œì‘ ë©”ë‰´ì—ì„œ Git - Git Bashë¥¼ í†µí•´ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
  > Git Bashì—ì„œëŠ” Linux ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— "C:\Key" í´ë”ë¡œ ì´ë™ì‹œ "cd /C/Key"ì²˜ëŸ¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.

    - `$ chmod 400 EC2-KeyPair.pem`
    - `$ ssh -i "EC2-KeyPair.pem" ubuntu@<public_dns>`

  - "Are you sure you want to continue connecting (yes/no)?"ë¼ëŠ” ë¬¸êµ¬ê°€ ë‚˜ì˜¤ë©´ yesë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

  - `$ cat ./bitnami_credentials`ë¥¼ ì…ë ¥í•˜ê³  usernameê³¼ passwordë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

- MacOS ë˜ëŠ” Linux

  - í„°ë¯¸ë„ì„ ì—´ê³  í‚¤ í˜ì–´ê°€ ì €ì¥ëœ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ í›„ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

    - `$ chmod 400 EC2-KeyPair.pem`
    - `$ ssh -i "EC2-KeyPair.pem" ubuntu@<public_dns>`

  - "Are you sure you want to continue connecting (yes/no)?"ë¼ëŠ” ë¬¸êµ¬ê°€ ë‚˜ì˜¤ë©´ yesë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

  - `$ cat ./bitnami_credentials`ë¥¼ ì…ë ¥í•˜ê³  usernameê³¼ passwordë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

**6. WordPress ë¡œê·¸ì¸**

- Public DNS ë’¤ì— /adminì„ ì¶”ê°€í•˜ê³  SSHë¥¼ í†µí•´ í™•ì¸í•œ ì‚¬ìš©ì usernameê³¼ passwordë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

  <img src="./img/admin-login.png" alt="ì–´ë“œë¯¼ ë¡œê·¸ì¸" width="650px" height="500px" />

**7. WordPress ê¸€ ì‘ì„±í•˜ê¸°**

- ì™¼ìª½ ëŒ€ì‹œë³´ë“œì˜ Posts - Add Newë¥¼ í´ë¦­í•˜ê³  ì œëª©ê³¼ ë‚´ìš©ì„ ì‘ì„±í•œ í›„ Publishë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

![ì›Œë“œí”„ë ˆìŠ¤ ê¸€ì“°ê¸°](./img/wordpress-new.png)

**ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤. ë‹¤ìŒ RDS ë¶€ìŠ¤ë¡œ ì´ë™í•´ì£¼ì„¸ìš”!**

í•´ë‹¹ ì‹¤ìŠµ ê°€ì´ë“œëŠ” https://github.com/AUSG/aws-univ-expo/ec2 ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
